# 原始业务代码
![](media/14812680093529/14812680783961.jpg)
当非快推用户的时候，执行SAPI登录

##SAPI登录的主要业务逻辑如下：
![](media/14812680093529/14812682696378.jpg)


解释：
如果登录成功，直接返回Json

```json
{
	"result":"1"
	"msg":"login is success"
	"info":"passport"
	"isLock":"ture/false"
	...
}
```
##根据与康斌的沟通结果，我们发现前段JS如果发现JSON中result为1时进行passport登录操作。基于这样的逻辑，我们目前的解决方案是：

替换passportLoginProxy服务，替换内容如下：
![](media/14812680093529/14812685380257.jpg)


这样，每次调用SAPI服务，不做任何其他操作，直接返回成功JSON。前段依赖这个JSON进行二次passport登陆。

