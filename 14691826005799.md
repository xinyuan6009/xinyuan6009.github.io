# 订阅中心游戏数据获取流程
## 1·根据cid从mcp_content表获取记录
```sql
SELECT * FROM `mcp_content` WHERE `id` = %d
```

##2·通过mcp_content_data的记录ID和游戏类型查询游戏的打包数据
```sql
SELECT C.id, C.name, CHARGE.value, 
            CDATA.channel_info, CDATA.path_url, CDATA.size, CDATA.MD5 
            FROM mcp_content_data AS CDATA 
            LEFT JOIN mcp_content AS C ON C.id=CDATA.c_id 
            LEFT JOIN mcp_content_charge AS CHARGE ON CHARGE.cdata_id=C.charge_typeid 
            WHERE C.visible=1 AND C.enable=1 
            AND C.type_id=25 AND C.status=1 AND CDATA.id=34083 AND CDATA.enable=1 
            
 
select * from mcp_content where type_id=25

select * from mcp_content_data where c_id=31495
```

示例数据：
![](media/14691826005799/14691826424895.jpg)

订阅者执行代码：
![](media/14691826005799/14691826559917.jpg)




##3·游戏其他信息来源总结
1·游戏图片来源mcp_content_preview
图片类型 7:logo 9:game_img
参考订阅者：mcp_content_controller下的_publish_mcp_duoku_appinfo_update_img方法


2·游戏tags数据来源
mcp_content_bookmark，mcp_content_bookmark_list

```sql
SELECT distinct(L.cb_id), M.name 
       FROM mcp_content_bookmark_list AS L 
   LEFT JOIN mcp_content_bookmark AS M ON L.cb_id=M.id 
       WHERE c_id=31495
```

3·游戏基础信息数据来源

```sql
SELECT E.info, E.star rating, E.editor_recom brief, E.language, E.update_desc, CP.name  cp_name 
            FROM mcp_content_game_ext AS E 
            LEFT JOIN mcp_content_cp AS CP ON CP.id=E.cp_id 
            WHERE E.c_id=31495
```
![](media/14691826005799/14691826661949.jpg)


4·游戏包数据来源

```sql
SELECT * FROM mcp_content_appinfo  WHERE cdata_id=2306
````


